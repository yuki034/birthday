
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>お誕生日おめでとう！</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/3.3.4/vue.global.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
  <style>
    :root {
      --primary-color: #ff69b4;
      --secondary-color: #9370db;
      --accent-color: #ffdf00;
      --text-color: #333;
      --light-color: #fff;
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Arial', sans-serif;
      background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
      color: var(--text-color);
      line-height: 1.6;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }
    
    header {
      text-align: center;
      padding: 20px 0;
      position: relative;
      overflow: hidden;
    }
    
    .title {
      font-size: 3rem;
      margin-bottom: 10px;
      color: var(--primary-color);
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
    }
    
    .subtitle {
      font-size: 1.5rem;
      color: var(--secondary-color);
      margin-bottom: 20px;
    }
    
    .confetti {
      position: absolute;
      width: 10px;
      height: 10px;
      background-color: var(--accent-color);
      opacity: 0.8;
      border-radius: 50%;
    }
    
    .main-section {
      background-color: var(--light-color);
      border-radius: 15px;
      padding: 30px;
      margin-bottom: 30px;
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
    }
    
    .message {
      font-size: 1.2rem;
      margin-bottom: 20px;
      text-align: center;
    }
    
    .video-section {
      margin: 40px 0;
      text-align: center;
    }
    
    .video-container {
      max-width: 800px;
      margin: 0 auto;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
    }
    
    video {
      width: 100%;
      display: block;
    }
    
    .video-controls {
      display: flex;
      justify-content: center;
      margin-top: 15px;
      gap: 10px;
    }
    
    button {
      background-color: var(--secondary-color);
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      cursor: pointer;
      transition: background-color 0.3s;
    }
    
    button:hover {
      background-color: var(--primary-color);
    }
    
    .gallery {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      grid-gap: 20px;
      margin: 30px 0;
    }
    
    .photo {
      height: 250px;
      border-radius: 10px;
      overflow: hidden;
      position: relative;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      cursor: pointer;
      transition: transform 0.3s;
    }
    
    .photo:hover {
      transform: scale(1.05);
    }
    
    .photo img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    
    .message-form {
      margin-top: 40px;
    }
    
    .form-group {
      margin-bottom: 20px;
    }
    
    label {
      display: block;
      margin-bottom: 5px;
      font-weight: bold;
    }
    
    input, textarea {
      width: 100%;
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 5px;
      font-size: 1rem;
    }
    
    textarea {
      height: 120px;
    }
    
    .submit-btn {
      background-color: var(--primary-color);
      padding: 12px 25px;
      font-size: 1.1rem;
    }
    
    .messages-list {
      margin-top: 30px;
    }
    
    .message-item {
      background-color: #f9f9f9;
      border-radius: 10px;
      padding: 20px;
      margin-bottom: 15px;
      box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
    }
    
    .message-author {
      font-weight: bold;
      color: var(--primary-color);
    }
    
    .message-date {
      font-size: 0.8rem;
      color: #888;
      margin-bottom: 10px;
    }
    
    footer {
      text-align: center;
      padding: 20px;
      margin-top: 50px;
      color: #666;
      font-size: 0.9rem;
    }
    
    .modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.8);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 100;
    }
    
    .modal-content {
      max-width: 80%;
      max-height: 80%;
    }
    
    .modal-content img {
      width: 100%;
      height: auto;
      border-radius: 5px;
    }
    
    .close-modal {
      position: absolute;
      top: 20px;
      right: 20px;
      color: white;
      font-size: 2rem;
      cursor: pointer;
    }
    
    .countdown {
      font-size: 2rem;
      text-align: center;
      margin: 30px 0;
      color: var(--primary-color);
    }
    
    @media (max-width: 768px) {
      .title {
        font-size: 2rem;
      }
      
      .subtitle {
        font-size: 1.2rem;
      }
      
      .gallery {
        grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
      }
      
      .photo {
        height: 150px;
      }
    }
  </style>
</head>
<body>
  <div id="app">
    <header>
      <h1 class="title animate__animated animate__bounce">お誕生日おめでとう！</h1>
      <p class="subtitle animate__animated animate__fadeIn">特別な日をお祝いします</p>
      <div v-for="confetti in confettis" :key="confetti.id" class="confetti" :style="confetti.style"></div>
    </header>
    
    <div class="container">
      <section class="main-section animate__animated animate__fadeIn">
        <div v-if="!birthdayPassed" class="countdown">
          誕生日まであと {{ countdown.days }}日 {{ countdown.hours }}時間 {{ countdown.minutes }}分 {{ countdown.seconds }}秒
        </div>
        <p class="message">
          友達へのメッセージ！いつも笑顔をありがとう。
          あなたの誕生日を心からお祝いします。これからも素敵な時間を一緒に過ごしましょう。
          このサイトはあなたへの感謝の気持ちを込めて作りました。
        </p>
      </section>
      
      <section class="video-section main-section animate__animated animate__fadeIn">
        <h2>お祝い動画</h2>
        <div class="video-container">
          <video ref="videoPlayer" controls>
            <source src="/api/placeholder/800/450" type="video/mp4">
            お使いのブラウザは動画再生に対応していません。
          </video>
        </div>
        <div class="video-controls">
          <button @click="playVideo">再生</button>
          <button @click="pauseVideo">一時停止</button>
        </div>
      </section>
      
      <section class="main-section animate__animated animate__fadeIn">
        <h2>思い出の写真</h2>
        <div class="gallery">
          <div class="photo" v-for="(photo, index) in photos" :key="index" @click="openModal(photo)">
            <img :src="photo.url" alt="思い出の写真">
          </div>
        </div>
      </section>
      
      <section class="main-section animate__animated animate__fadeIn">
        <h2>メッセージを残す</h2>
        <div class="message-form">
          <div class="form-group">
            <label for="name">お名前</label>
            <input type="text" id="name" v-model="newMessage.name" placeholder="お名前を入力してください">
          </div>
          <div class="form-group">
            <label for="message">メッセージ</label>
            <textarea id="message" v-model="newMessage.text" placeholder="お祝いメッセージを書いてください"></textarea>
          </div>
          <button class="submit-btn" @click="addMessage">メッセージを送信</button>
        </div>
        
        <div class="messages-list">
          <h3>メッセージ一覧</h3>
          <div class="message-item" v-for="(msg, index) in messages" :key="index">
            <p class="message-author">{{ msg.name }}</p>
            <p class="message-date">{{ msg.date }}</p>
            <p>{{ msg.text }}</p>
          </div>
        </div>
      </section>
    </div>
    
    <footer>
      <p>あなたのために作ったお誕生日サイト 🎂 {{ new Date().getFullYear() }}</p>
    </footer>
    
    <div class="modal" v-if="showModal" @click="closeModal">
      <span class="close-modal" @click="closeModal">&times;</span>
      <div class="modal-content">
        <img :src="modalImage.url" alt="拡大写真">
      </div>
    </div>
  </div>

  <script>
    const { createApp, ref, reactive, computed, onMounted, onBeforeUnmount } = Vue;
    
    createApp({
      setup() {
        // 誕生日の設定（月/日/年）
        const birthdayDate = new Date(2025, 3, 20); // 2025年4月20日の例
        
        // カウントダウン
        const countdown = reactive({
          days: 0,
          hours: 0,
          minutes: 0,
          seconds: 0
        });
        
        const birthdayPassed = ref(false);
        
        // カウントダウン計算
        const calculateCountdown = () => {
          const now = new Date();
          const diff = birthdayDate - now;
          
          if (diff <= 0) {
            birthdayPassed.value = true;
            return;
          }
          
          countdown.days = Math.floor(diff / (1000 * 60 * 60 * 24));
          countdown.hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
          countdown.minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
          countdown.seconds = Math.floor((diff % (1000 * 60)) / 1000);
        };
        
        // タイマー設定
        let countdownTimer;
        
        onMounted(() => {
          calculateCountdown();
          countdownTimer = setInterval(calculateCountdown, 1000);
          createConfetti();
        });
        
        onBeforeUnmount(() => {
          clearInterval(countdownTimer);
        });
        
        // 紙吹雪の設定
        const confettis = ref([]);
        const confettiCount = 50;
        
        const createConfetti = () => {
          for (let i = 0; i < confettiCount; i++) {
            const left = Math.random() * 100;
            const width = (Math.random() * 10) + 5;
            const height = width;
            const bg = getRandomColor();
            
            confettis.value.push({
              id: i,
              style: {
                left: `${left}%`,
                top: -(Math.random() * 20 + 10) + '%',
                width: `${width}px`,
                height: `${height}px`,
                backgroundColor: bg,
                transform: `rotate(${Math.random() * 360}deg)`,
                animation: `fall ${Math.random() * 3 + 2}s linear infinite`,
                animationDelay: `${Math.random() * 5}s`
              }
            });
          }
          
          // 紙吹雪のアニメーション
          const styleSheet = document.createElement('style');
          styleSheet.textContent = `
            @keyframes fall {
              to {
                transform: translateY(100vh) rotate(960deg);
              }
            }
          `;
          document.head.appendChild(styleSheet);
        };
        
        // ランダムカラー生成
        const getRandomColor = () => {
          const colors = [
            '#ff69b4', '#9370db', '#ffdf00', '#ff6347', '#00ced1',
            '#3cb371', '#ff7f50', '#6a5acd', '#00fa9a', '#ffd700'
          ];
          return colors[Math.floor(Math.random() * colors.length)];
        };
        
        // ビデオプレーヤー
        const videoPlayer = ref(null);
        
        const playVideo = () => {
          if (videoPlayer.value) {
            videoPlayer.value.play();
          }
        };
        
        const pauseVideo = () => {
          if (videoPlayer.value) {
            videoPlayer.value.pause();
          }
        };
        
        // 写真ギャラリー
        const photos = ref([
          { url: '/api/placeholder/300/300', title: '思い出1' },
          { url: '/api/placeholder/300/300', title: '思い出2' },
          { url: '/api/placeholder/300/300', title: '思い出3' },
          { url: '/api/placeholder/300/300', title: '思い出4' },
          { url: '/api/placeholder/300/300', title: '思い出5' },
          { url: '/api/placeholder/300/300', title: '思い出6' }
        ]);
        
        // モーダル表示
        const showModal = ref(false);
        const modalImage = ref({});
        
        const openModal = (photo) => {
          modalImage.value = photo;
          showModal.value = true;
        };
        
        const closeModal = () => {
          showModal.value = false;
        };
        
        // メッセージ機能
        const messages = ref([
          {
            name: '佐藤太郎',
            date: '2025年4月9日',
            text: 'お誕生日おめでとう！素敵な一年になりますように！'
          },
          {
            name: '田中花子',
            date: '2025年4月9日',
            text: 'いつも元気をくれてありがとう。誕生日を心からお祝いします！'
          }
        ]);
        
        const newMessage = reactive({
          name: '',
          text: ''
        });
        
        const addMessage = () => {
          if (newMessage.name && newMessage.text) {
            const now = new Date();
            const formattedDate = `${now.getFullYear()}年${now.getMonth() + 1}月${now.getDate()}日`;
            
            messages.value.unshift({
              name: newMessage.name,
              date: formattedDate,
              text: newMessage.text
            });
            
            // フォームをクリア
            newMessage.name = '';
            newMessage.text = '';
          }
        };
        
        return {
          birthdayDate,
          countdown,
          birthdayPassed,
          confettis,
          videoPlayer,
          playVideo,
          pauseVideo,
          photos,
          showModal,
          modalImage,
          openModal,
          closeModal,
          messages,
          newMessage,
          addMessage
        };
      }
    }).mount('#app');
  </script>
</body>
</html>